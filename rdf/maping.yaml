prefixes:
  gest: "http://gestdb.org/"
  wd: "http://www.wikidata.org/entity/"
  wdt: "http://www.wikidata.org/prop/direct/"
  xsd: "http://www.w3.org/2001/XMLSchema#"
  schema: "http://schema.org/"

mappings:

  ChannelMapping:
    sources:
      - access: jdbc:postgresql://localhost:5432/youtube_db
        query: >
          SELECT video_id AS VideoID,
                 title AS Title,
                 description AS Description,
                 publication_date AS PublicationDate,
                 likes AS Likes,
                 comments AS Comments,
                 views AS Views,
                 channel_id AS ChannelID
          FROM videos;
        username: postgres
        password: mysecretpassword

    s: gest:channel_$(id)
    po:
      - [a, wd:Q17558136]                   # YouTube channel
      - [schema:name, $(name)]
      - [wdt:P2397, $(id)]           # YouTube channel ID
      - [wdt:P407, $(language)]             # language of the channel
      - [wdt:P3744, $(suscriber_count), xsd:integer] # number of subscribers
      - [wdt:P910, gest:category_$(category_link)] # main category relation

  VideoMapping:
    sources:
      - [data/videos.csv~csv]
    s: gest:video_$(id)
    po:
      - [a, wd:Q63412991]                   # YouTube video
      - [wdt:P1476, $(title_raw)]
      - [wdt:P577, $(published_at)]    # publication date entity
      - [wdt:P2047, $(duration), xsd:integer]   # duration in seconds
      - [wdt:P10649, $(like_count), xsd:integer]    # number of likes
      - [wdt:P10651, $(comment_count), xsd:integer]  # number of comments
      - [wdt:P5436, $(view_count), xsd:integer]  # number of views
      - [wdt:P123, gest:channel_$(id_channel)]  # publicado por canal

  CommentMapping:
    sources:
      - [data/comments.csv~csv]
    s: gest:comment_$(id)
    po:
      - [a, wd:Q25345994]                   # Comment
      - [wdt:P577, $(published_at), xsd:date]
      - [wdt:P10649, $(like_count), xsd:integer]
      - [wdt:P1433, gest:video_$(id_video)]     # pertenece a v√≠deo
      - [wdt:P1476, $(text)]

  CategoryMapping:
    sources:
      - [data/categories.csv~csv]
    s: gest:category_$(id)
    po:
      - [a, wd:Q6421128]
      - [rdfs:label, $(name)]
